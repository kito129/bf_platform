<!-- CARD 1-->
<div class="card">
  <!-- HEADER -->
  <div class="card-header">
    <div class="d-flex justify-content-between align-items-baseline">
      <h6 class="card-title mb-0">All Strategy</h6>
    </div>
  </div><!-- /HEADER -->
  <div class="card-body"><!-- BODY -->

    <div class="d-flex justify-content-space-between align-items-center">
      <app-strategy-create-modal class="mr-2" (addStrategyCreateEmitter)="createModal($event)"></app-strategy-create-modal>
      <form class="form-group grid-margin" #searchForm="ngForm">
        <div class="row">
          <!--
          <div class="col">
            <div class="d-flex justify-content-space-around align-items-center">
              <button type="button" class="btn btn-icon mr-2"
                      [ngClass]=""
                      (click)="set2021()">
                <i class="feather icon-eye"></i>
                2021
              </button>
            </div>
          </div>
          -->
          <div class="form-group">
            <!-- OPTIONS -->
            <label for="tableSize">Table size</label>
            <ng-select id="tableSize"
                       name="options"
                       [(ngModel)]="tableSize"
                       [items]="[5, 10,15,20,25,30,40,50,100,1000]"
                       [clearable]="false">
            </ng-select>
          </div>
        </div>
      </form>
    </div>

    <ngx-datatable
      class="dark"
      [rows]="strategyDatatable"
      [loadingIndicator]="loadingIndicator"
      [columnMode]="ColumnMode.force"
      [headerHeight]="40"
      [footerHeight]="50"
      [limit]=tableSize
      rowHeight="auto"
      [reorderable]="true"
      [sorts]="[{prop: 'pl', dir: 'desc'}]">

      <ngx-datatable-column name="Name" prop="name" [width]="3">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5>{{ value }}</h5>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Sport" prop="sport" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <app-sport-text [sport]="value"></app-sport-text>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Year" prop="year" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5 [ngClass]="value===2021 ? 'text-info' : 'text-light'">{{ value }}</h5>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="# of Trade" prop="numberOfTrade" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5>{{ value }}</h5>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Bank" prop="bank" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5>{{ value | currency}}</h5>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Executor" prop="executor" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5>{{ value}}</h5>
        </ng-template>
      </ngx-datatable-column>


      <ngx-datatable-column name="Money Management" prop="moneyManagement" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5>{{ value }}</h5>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Stake" prop="stake" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5>{{ value | currency}}</h5>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Type Of Stake" prop="typeOfStake" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5>{{ value}}</h5>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Pl" prop="pl" [width]="3">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h4 [ngClass]="value>0 ? 'text-success' : value ===0 ? 'text-warning' : 'text-danger'">{{ value | currency }}</h4>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Pl %" prop="plPercent" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5 class="text-primary">{{ value | percent }}</h5>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Max DD" prop="maxDD" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5 class="text-danger">{{ value | currency }}</h5>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Max DD %" prop="maxDDPercent" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5 class="text-danger">{{ value | percent }}</h5>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Win ratio" prop="winRatio" [width]="1">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <h5 [ngClass]="value>0.60 ? 'text-success' : value>0.30 ? 'text-warning' : 'text-danger'">{{ value | percent }}</h5>
        </ng-template>
      </ngx-datatable-column>


      <ngx-datatable-column name="Tolls" prop=""  [width]="2">
        <ng-template let-value="value"  ngx-datatable-cell-template>

          <div class="d-flex justify-content-center align-items-center">

            <button type="button" class="btn btn-icon mr-2"
                    [ngClass]="selectedStrategyId === value._id ? 'btn-info' : 'btn-outline-info'"
                    (click)="clickSelectStrategy(value._id)"
                    [disabled]="value.numberOfTrade===0">
              <i class="feather icon-eye"></i>
            </button>

            <!--
            <app-delete-modal [id]="value.strategy._id"
                              [options]="'Delete'"
                              [type]="'strategy'"
                              (deleteEmitter)="deleteModal($event)">
            </app-delete-modal>
            -->

            <app-strategy-updates-modal [strategyInput$]="value.strategy"
                                        (strategyUpdateEmitter)="updateModal($event)">
            </app-strategy-updates-modal>
          </div>

        </ng-template>
      </ngx-datatable-column>

    </ngx-datatable>

  </div>
</div>
