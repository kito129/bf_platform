<button [ngbTooltip]="backtestTooltip"
        type="button"
        class="btn mr-3"
        [ngClass]="($backtestMode | async)  ? 'btn-danger' : 'btn-outline-danger'"
        (click)="openVerticalCenteredModal(verticalCenteredModal)"
        (contextmenu)="backtestModeChange($event)">
  Backtest {{($backtestMode | async)  ? 'ON' : 'off'}}
  <span *ngIf="($backtestMode | async)"
        class="badge bg-light text-dark">
            {{$backtestTradesCount | async}}
          </span>
</button>

<!-- Modal -->
<ng-template #verticalCenteredModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">Title</h5>
    <button type="button" class="close" (click)="modal.close('by: close icon')" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">

    <app-backtest-main [backtestTradesCount]="$backtestTradesCount | async"
                       [backtestList]="$backtestList | async"
                       [backtestTradesList]="$backtestTradesList | async"
                       [backtestMode]="$backtestMode | async"
                       [backtestIsLoading]="$backtestIsLoading">
    </app-backtest-main>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close('close')">Close</button>
    <button type="button" class="btn btn-primary" (click)="modal.close('end')">End</button>
  </div>
</ng-template>


<!-- TOOLTIP TEMPLATE -->
<ng-template #backtestTooltip>
  <h5>Backtest, right click to turn ON/OFF</h5>
</ng-template>
