<div class="card">
  <!-- HEADER -->
  <div class="card-header">
    <div class="d-flex justify-content-between align-items-baseline">
      <h6 class="card-title mb-0">Odds Params</h6>
    </div>
  </div>
  <!-- BODY -->
  <div class="card-body">
    <div class="row">
      <div class="d-flex justify-content-between align-items-baseline">
        <button type="button"
                class="btn btn-icon btn-success btn-icon-text "
                (click)="addFilter()">
          <i class="btn-icon-prepend" data-feather="plus" appFeatherIcon></i>
          Add Filter
        </button>
      </div>
    </div>
    <form class="grid-margin">
      <div class="row">
        <div class="col-4" *ngFor="let f of filters, index as i">
          <div class="card">
            <!-- HEADER -->
            <div class="card-header">
              <div class="d-flex justify-content-between align-items-baseline">
                <div class="form-group">
                  <label for="name">Filter {{i+1}} Name</label>
                  <input type="text"
                         class="form-control"
                         id="name"
                         [(ngModel)]="f.name"
                         [name]="'name'+i">
                </div>
              </div>
            </div>
            <!-- BODY -->
            <div class="card-body">
              <!-- PARAMS -->
              <div class="row">
                <div class="col">
                  <div class="form-group" >
                    <label for="bank">Bank</label>
                    <input class="form-control"
                           id="bank"
                           type="number"
                           [(ngModel)]="f.bank"
                           [name]="'bank'+i"
                           [min]="0">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group" >
                    <label for="min">Min</label>
                    <input class="form-control"
                           id="min"
                           type="number"
                           [(ngModel)]="f.minOdds"
                           [name]="'min'+i"
                           [min]="1.01"
                           [max]="1000">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group" >
                    <label for="max">Max</label>
                    <input class="form-control"
                           id="max"
                           type="number"
                           [(ngModel)]="f.maxOdds"
                           [name]="'max'+i"
                           [min]="1.01"
                           [max]="1000">
                  </div>
                </div>
              </div>
              <!-- SELECTOR -->
              <div class="row">
                <div class="col">
                  <div class="form-group">
                    <label>Filter Type</label>
                    <ng-select [items]="['BSP', 'BSP (Traded Only)','AVG BACK', 'AVG LAY','AVG TRADED']"
                               name="type"
                               bindLabel="value"
                               bindValue="value"
                               placeholder="Filter Type"
                               [name]="'optionsRadios'+i"
                               [(ngModel)]="f.filterType">
                    </ng-select>
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <label>Tournament Type</label>
                    <ng-select [items]="['ALL', 'ATP', 'ATP CHALLENGER','ALL ATP', 'WTA', 'WTA CHALLENGER', 'ALL WTA','ATP/WTA','CHALLENGER ONLY']"
                               name="type"
                               bindLabel="value"
                               bindValue="value"
                               placeholder="Surface"
                               [name]="'tournament'+i"
                               [(ngModel)]="f.filterTournamentType">
                    </ng-select>
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <label>Tournament Surface</label>
                    <ng-select [items]="['ALL', 'HARD', 'CLAY','GRASS', 'INDOOR HARD']"
                               name="type"
                               bindLabel="value"
                               bindValue="value"
                               placeholder="Surface"
                               [name]="'surface'+i"
                               [(ngModel)]="f.filterTournamentSurface">
                    </ng-select>
                  </div>
                </div>
              </div>
            </div>
            <!-- FOOTER -->
            <div class="card-footer">
              <button type="button"
                      class="btn btn-xs btn-icon btn-outline-danger btn-icon-text mr-2"
                      (click)="removeFilter(i)">
                <i class="btn-icon-prepend" data-feather="x" appFeatherIcon></i>
              </button>
              <button type="button"
                      class="btn btn-xs btn-icon btn-outline-info btn-icon-text "
                      (click)="duplicateFilter(i)">
                <i class="btn-icon-prepend" data-feather="copy" appFeatherIcon></i>
              </button>
            </div>
          </div>
          <h5 class="mt-2 mb-2">Trades#: {{f.trades.length}}</h5>
        </div>
      </div>
    </form>
  </div>
  <!-- FOOTER -->
  <div class="card-footer">
    <div class="d-flex flex-row-reverse">

      <button type="button"
              class="btn btn-icon btn-danger btn-icon-text "
              (click)="filterEmit()">
        <i class="btn-icon-prepend" data-feather="fast-forward" appFeatherIcon></i>
        Calculate
      </button>

      <button type="button"
              class="btn btn-icon btn-secondary btn-icon-text mr-2"
              (click)="resetEmit()">
        <i class="btn-icon-prepend" data-feather="x-octagon" appFeatherIcon></i>
        Reset
      </button>

    </div>
  </div>
</div>
