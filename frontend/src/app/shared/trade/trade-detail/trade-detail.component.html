<div class="row grid-margin">
  <!-- INFO -->
  <div class="col">
    <div class="card">
      <div class="card-header">
        <div class="d-flex justify-content-between align-items-baseline">
          <h3>{{trade.trade.info.marketInfo.marketName}}</h3>
        </div>
      </div>
      <div class="card-body">
        <ul class="list-group">
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4>Date</h4>
              </div>
              <div class="col">
                <h4> {{trade.trade.info.date | date: 'medium'}}</h4>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4>Tournament</h4>
              </div>
              <div class="col" *ngIf="tennisTournament">
                <div *ngIf="tennisTournament.tournament.detail.type.federation==='ATP'"><h4><span class="badge badge-primary">ATP {{tennisTournament.tournament.detail.name}} - {{tennisTournament.tournament.detail.type.point}}</span></h4></div>
                <div *ngIf="tennisTournament.tournament.detail.type.federation==='WTA'"><h4><span class="badge badge-danger">WTA {{tennisTournament.tournament.detail.name}} - {{tennisTournament.tournament.detail.type.point}}</span></h4></div>
                <div *ngIf="tennisTournament.tournament.detail.type.isChallenger"><h4><span class="badge badge-success">Challenger</span></h4></div>
                <div *ngIf="tennisTournament.tournament.detail.type.isSlam"><h4><span class="badge badge-warning">{{tennisTournament.tournament.detail.name}}</span></h4></div>

              </div>
            </div>
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4>Surface</h4>
              </div>
              <div class="col" *ngIf="tennisTournament">
                <div *ngIf="tennisTournament.tournament.detail.surface==='HARD'"><h4><span class="badge badge-primary">HARD</span></h4></div>
                <div *ngIf="tennisTournament.tournament.detail.surface==='GRASS'"><h4><span class="badge badge-success">GRASS</span></h4></div>
                <div *ngIf="tennisTournament.tournament.detail.surface==='CLAY'"><h4><span class="badge badge-danger">CLAY</span></h4></div>
                <div *ngIf="tennisTournament.tournament.detail.surface==='INDOOR HARD'"><h4><span class="badge badge-light">INDOOR HARD</span></h4></div>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4>Strategy</h4>
              </div>
              <div class="col" *ngIf="strategy">
                <div><h4>
                  {{strategy.strategy.info.name}}
                </h4></div>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4>Executor</h4>
              </div>
              <div class="col">
                <h4 *ngFor="let exe of trade.trade.info.executor">{{exe}}</h4>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4>Exchange</h4>
              </div>
              <div class="col">
                <h4 *ngIf="trade.trade.info.exchange.name==='UK KEVIN' || trade.trade.info.exchange.name==='UK'"><span class="badge badge-danger">UK</span></h4>
                <h4 *ngIf="trade.trade.info.exchange.name==='ITA WILLO'"><span class="badge badge-warning">OLD W-ITA</span></h4>
                <h4 *ngIf="trade.trade.info.exchange.name==='ITA KITO' || trade.trade.info.exchange.name==='KITO'"><span class="badge badge-primary">KITO</span></h4>
                <h4 *ngIf="trade.trade.info.exchange.name==='ITA PIDO'"><span class="badge badge-info">OLD P-ITA</span></h4>
                <h4 *ngIf="trade.trade.info.exchange.name==='DEMO'"><span class="badge badge-dark">DEMO</span></h4>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4 class="text-warning">Commission</h4>
              </div>
              <div class="col">
                <h4 *ngIf="trade.trade.results.commissionPaid>0" class="text-warning">{{trade.trade.results.commissionPaid | currency}} ({{trade.trade.info.exchange.commission | percent:'0.2'}})</h4>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4 class="text-danger">Max Risk</h4>
              </div>
              <div class="col">
                <h4 class="text-danger">{{trade.trade.results.maxRisk | currency}}</h4>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4 class="text-info">rR</h4>
              </div>
              <div class="col">
                <h4 class="text-info">{{trade.trade.results.rr | percent}}</h4>
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4>Pl</h4>
              </div>
              <div class="col">
                <h3 [ngClass]="trade.trade.results.netProfit>0 ? 'text-success' : 'text-danger'">{{trade.trade.results.netProfit | currency}}</h3>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- RESULT -->
  <div class="col">
    <div class="card">
      <div class="card-header">
        <div class="d-flex justify-content-between align-items-baseline">
          <h3>Result</h3>
        </div>
      </div>
      <div class="card-body">
        <ul class="list-group">
          <li class="list-group-item">
            <div class="row">
              <div class="col">
                <h4>Final Result</h4>
              </div>
              <div class="col">
                <h4 *ngIf="trade.trade.info.marketInfo?.sport.indexOf('TENNIS')!==-1">
                  {{trade.trade.results.finalScore.tennis | tennisPoint: true : true}}
                </h4>
                <h4 *ngIf="trade.trade.info.marketInfo?.sport.indexOf('FOOTBALL')!==-1">
                  {{trade.trade.results.finalScore.football.home + ' - ' + trade.trade.results.finalScore.football.away}}
                </h4>
              </div>
            </div>
          </li>
          <li class="list-group-item" *ngFor="let selection of trade.trade.selections; index as i">
            <div class="row">
              <div class="col">
                <div class="row"></div>
                <h4>{{selection.runnerName}}</h4>
              </div>
              <div class="col">
                <app-bsp-odd [bspOdd]="selection.bsp" ></app-bsp-odd>
              </div>
              <div class="col-1">
                <div *ngIf="selection.winner">
                  <i data-feather="check" appFeatherIcon class="text-success"></i>
                </div>
                <div *ngIf="!selection.winner">
                  <i data-feather="x" appFeatherIcon class="text-danger"></i>
                </div>
              </div>
              <div class="col-2">
                <button type="button" routerLink="/runners/detail/{{selection.runnerId}}"  class="btn btn-primary btn-icon">
                  <i class="feather icon-external-link"></i>
                </button>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<!-- NOTE -->
<div class="row grid-margin" *ngIf="notePresent">
  <div class="col">
    <div class="card">
      <div class="card-header">
        <div class="d-flex justify-content-between align-items-baseline">
          <h3>Note</h3>
        </div>
      </div>
      <div class="card-body">
        <ul class="list-group">
          <li class="list-group-item" *ngIf="trade.trade.info.note.description !== null">
            <h4 class="text-gray">Description: </h4>
            <h6>{{trade.trade.info.note.description}}</h6>
          </li>
          <li class="list-group-item" *ngIf="trade.trade.info.note.entry!== null">
            <h4 class="text-gray">Entry: </h4>
            <h6>{{trade.trade.info.note.entry}}</h6>
          </li>
          <li class="list-group-item" *ngIf="trade.trade.info.note.position!== null">
            <h4 class="text-gray">Position: </h4>
            <h6>{{trade.trade.info.note.position}}</h6>
          </li>
          <li class="list-group-item" *ngIf="trade.trade.info.note.exit!== null">
            <h4 class="text-gray">Exit: </h4>
            <h6>{{trade.trade.info.note.exit}}</h6>
          </li>
          <li class="list-group-item" *ngIf="trade.trade.info.note.mm!== null">
            <h4 class="text-gray">MM: </h4>
            <h6>{{trade.trade.info.note.mm}}</h6>
          </li>
          <li class="list-group-item" *ngIf="trade.trade.info.note.post!== null">
            <h4 class="text-gray">Post: </h4>
            <h6>{{trade.trade.info.note.post}}</h6>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- BETS -->
<div class="row grid-margin">
  <div class="col">
    <div class="card">
      <div class="card-header">
        <div class="d-flex justify-content-between align-items-baseline">
          <h3>Trades</h3>
        </div>
      </div>
      <div class="card-body">
        <app-trade-bets-detail [onlyBets]=true [trade]="trade"></app-trade-bets-detail>
      </div>
    </div>
  </div>
</div>

<!--
<div class="row grid-margin">
  <pre>
    {{trade | json}}
  </pre>
</div>
-->

